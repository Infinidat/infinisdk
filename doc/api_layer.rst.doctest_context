# -*- mode: python -*-
import capacity
from contextlib import contextmanager
from izsim import Simulator
from infinipy2.izbox import IZBox

@contextmanager
def doctest_context():
    with Simulator().context() as s:
        s.create_filesystem("fs1")
        system = IZBox(s)
        yield {
            "system": system,
            "GB": capacity.GB,
        }
