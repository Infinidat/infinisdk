# -*- mode: python -*-
import capacity
from contextlib import contextmanager
from infinipy2.izbox import IZBox
from izsim import Simulator

@contextmanager
def doctest_context():
    with Simulator(name="izbox001").context() as s:
        s.create_filesystem("fs1")
        system = IZBox(s)
        yield {
            "TiB": capacity.TiB,
            "GB": capacity.GB,
            "system": system,
            "Filesystem": system.objects.filesystems.object_type,
        }
